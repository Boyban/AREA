version: '3'
services:
        web:
                container_name: client_web
                build: ./web/
                ports:
                        - "8081:8081"
                depends_on:
                        - server
                        - mobile
        mobile:
                container_name: mobile_user
                build: ./mobile/
                depends_on:
                        - server
        server:
                container_name: server
                restart: always
                build: ./server/
                ports:
                        - "8080:8080"
                links:
                        - mongo
        mongo:
                container_name: mongo
                image: mongo
                volumes:
                        - ./data:/data/db
                ports:
                        - "27017:27017"
